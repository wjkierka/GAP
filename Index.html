<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <style>
        /* Estetyka Olbińskiego i Spójni Akacjowej */
        body {
            background: radial-gradient(circle at center, #1a2a6c, #b21f1f, #fdbb2d); /* Metafizyczne niebo */
            color: #fff;
            font-family: 'Georgia', serif;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #graph-container {
            position: relative;
            width: 400px;
            height: 400px;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 50%;
            background: url('https://your-acacia-tree-image-url.jpg') no-repeat center; /* Tu wstawisz link do grafiki */
            background-size: contain;
            margin: 20px;
        }

        /* Green Button - Global Access Point */
        #green-button {
            width: 50px;
            height: 50px;
            background-color: #2ecc71;
            border-radius: 50%;
            position: absolute;
            top: -60px; /* Pozycja IDLE (poza kołem) */
            cursor: pointer;
            box-shadow: 0 0 15px #2ecc71;
            transition: all 0.5s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            font-size: 10px;
        }

        /* Kontrolery (Ciała niebieskie) */
        .controller {
            width: 15px;
            height: 15px;
            background: #fff;
            border-radius: 50%;
            position: absolute;
            cursor: move;
            box-shadow: 0 0 10px #fff;
        }

        /* Panele danych pod kółkiem */
        .data-panel {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        input {
            background: rgba(0,0,0,0.5);
            border: 1px solid #2ecc71;
            color: #2ecc71;
            padding: 10px;
            text-align: center;
            width: 120px;
        }

        #interpreter-hints {
            font-style: italic;
            color: #f1c40f;
            margin-top: 10px;
            height: 20px;
        }
    </style>
</head>
<body>

    <div id="graph-container">
        <div id="green-button">GAP</div>
        <div class="controller" style="top:10%; left:50%;" title="Unknown"></div>
        <div class="controller" style="top:50%; left:90%;" title="Project"></div>
        <div class="controller" style="top:90%; left:50%;" title="Creator"></div>
        <div class="controller" style="top:50%; left:10%;" title="Interpreter"></div>
    </div>

    <div id="interpreter-hints">System IDLE. Zainicjuj Kod 1...</div>

    <div class="data-panel">
        <div>
            <label>Source Selector:</label><br>
            <select id="source-selector">
                <option value="manual">Manual Entry</option>
                <option value="sheet">Link Sheet (Live Sync)</option>
                <option value="stream">Live Stream (API)</option>
                <option value="pro">Commercial Offer (PRO)</option>
            </select>
        </div>
        <input type="text" id="code-input-1" placeholder="Kod 1 (PIN+1,6)">
        <input type="text" id="code-input-2" placeholder="Kod 2 (Asynch)">
    </div>

    <div id="final-code-display" style="font-size: 24px; margin-top: 20px; letter-spacing: 5px;"></div>

    <script>
        // Logika FBC i faz procesu
        const greenButton = document.getElementById('green-button');
        const hints = document.getElementById('interpreter-hints');
        
        // Symulacja wejścia w Fazę 2
        document.getElementById('code-input-1').addEventListener('change', (e) => {
            if(e.target.value.length === 6) {
                // Green Button wchodzi do koła (Faza 2)
                greenButton.style.top = "50%";
                greenButton.style.left = "50%";
                hints.innerText = "Faza 2: Aktywna bionawigacja. Kod 2 w gotowości.";
            }
        });

        // Symulacja Fazy 3 (Last Call)
        document.getElementById('code-input-2').addEventListener('change', (e) => {
            if(e.target.value.length === 6) {
                // Green Button na obrzeże (Faza 3)
                greenButton.style.top = "0%";
                greenButton.style.left = "50%";
                hints.innerText = "Faza 3: Odliczanie. Możesz modyfikować pozycje 1 i 6 w Kodzie 1 i 3.";
                startFinalCountdown();
            }
        });

        function startFinalCountdown() {
            let timer = 10; // Czas na kopiowanie i modyfikację
            const interval = setInterval(() => {
                hints.innerText = `Finalizacja: ${timer}s (Ostatnia szansa na zmianę 1 i 6)`;
                timer--;
                if(timer < 0) {
                    clearInterval(interval);
                    generateFinalCode();
                }
            }, 1000);
        }

        function generateFinalCode() {
            const code1 = document.getElementById('code-input-1').value;
            const code2 = document.getElementById('code-input-2').value;
            const code3 = code1.split('').reverse().join(''); // Inverted PIN (Simplified)
            
            const final18 = code1 + code2 + code3;
            document.getElementById('final-code-display').innerText = final18;
            
            // Protokół zniknięcia
            setTimeout(() => {
                document.getElementById('final-code-display').innerText = "";
                greenButton.style.top = "-60px"; // Powrót do IDLE
                hints.innerText = "Sesja zamknięta. Kod wymazany (Sovereign Mode).";
            }, 10000); // Znika po 10s
        }
    </script>
</body>
</html>
